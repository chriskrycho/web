{#-
   I am defining this myself instead of using any existing plugin because I want
   finer-grained control and in particular the ability to extend this to publishing
   variations on the theme. Controlling this will let me create custom variants of items
   for link posts, for example, and it will also make it straightforward for me to
   generate per-collection variants.
-#}

{%- import 'components/atom.njk' as atom -%}
<?xml version='1.0' encoding='utf-8'?>
<feed xmlns='http://www.w3.org/2005/Atom' xml:base="https://v6.chriskrycho.com">
   {%- block feed_info -%}
   <title>{{resolved_title(data.title, config.title)}}</title>
   <id>{{- config.url -}}</id>
   {% include 'blocks/rss-author.njk' %}
   <link href='{{- config.url -}}' />
   <link href='{{- page.url | absoluteUrl(config.url) -}}' rel='self'/>
   <subtitle>{{- config.description -}}</subtitle>
   {%- set rights -%}
      {# {%- copyright build.date -%} #}
   {%- endset -%}
   <rights>{{- config.rights | striptags(true) -}}</rights>
   <updated>{{- build.date | isoDate -}}</updated>
   <generator>lx Atom Feed generator by Chris Krycho</generator>
   <icon>https://v6.chriskrycho.com/assets/images/favicon.png</icon>
   {#- TODO: logo -#}
   {%- endblock feed_info %}
   {%- block entries -%}
      {%- set items = collections.live | excludingStandalonePages -%}
      {{-atom.entries(items, config)-}}
   {%- endblock entries -%}
</feed>
